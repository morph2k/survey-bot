<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surveybot</title>
    <link rel="stylesheet" href="/public/styles.css" />
  </head>
  <body>
    <main class="page">
      <section class="card">
        <header>
          <span class="tag">Surveybot</span>
          <h1>Collect quick satisfaction signals.</h1>
          <p>
            Share a survey link with your audience, collect a 1-4 rating, and
            review stats in one place.
          </p>
        </header>
        <div class="grid two">
          <div>
            <h2>Take a survey</h2>
            <p>Paste or type the survey slug you were given.</p>
            <form id="survey-lookup">
              <label for="slug">Survey slug</label>
              <input id="slug" name="slug" placeholder="summer-feedback" required />
              <div class="survey-actions">
                <button type="submit">Open survey</button>
              </div>
            </form>
          </div>
          <div>
            <h2>Issuer dashboard</h2>
            <p>Log in to create surveys and see response stats.</p>
            <div class="survey-actions">
              <a href="/admin"><button type="button" class="secondary">Go to login</button></a>
            </div>
            <div class="notice">
              Issuers use the admin area to create surveys. Participants only
              need the survey slug.
            </div>
          </div>
        </div>
        <footer>
          Surveybot stores timestamps automatically for each response.
        </footer>
      </section>
    </main>
    <script>
      document.getElementById("survey-lookup").addEventListener("submit", (event) => {
        event.preventDefault();
        const slug = new FormData(event.target).get("slug");
        if (slug) {
          window.location.href = `/s/${encodeURIComponent(slug.trim())}`;
        }
      });
    </script>
  </body>
</html>
